





{{>admin-header}}
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th scope="col">Thông tin cá nhân</th>
      <th scope="col">Địa chỉ</th>
      <th scope="col">Sản phẩm</th>
      <th scope="col">Phương thức thanh toán</th>
      <th scope="col">Ship</th>
      <th scope="col">Giảm giá</th>
      <th scope="col">Gía cuối cùng</th>
      <th scope="col">Lưu ý</th>
      <th scope="col">Trạng thái</th>
    </tr>
  </thead>
  <tbody>
     {{#each orderList}}
    <tr>
      <th scope="row">
          <input type="hidden" id='productId' value='{{this._id}}'>
        <p>
          <p class="detail-link">
            {{this.userInfor.name}}
          
          </p>
        </p>
        <p>
            {{this.userInfor.phone}}
        </p>
        <p>
            {{this.userInfor.email}}
        </p>
        </th>
      <td>
        <p>{{this.userInfor.address.detailAddress}}</p>
        <p>{{this.userInfor.address.ward}}</p>
        <p>{{this.userInfor.address.district}}</p>
        <p>{{this.userInfor.address.provinces}}</p>
      </td>

      <td>
     {{#each productList}}
            <p class="productName py-2" >

               {{this.cartItemName}}

              <span style='color:brown'>
                {{this.cartItemPrice}}
              </span>
              <span>
                x {{this.cartItemAmount}}
              </span>
            </p>
           

     {{/each}}
 

      </td>

      <td>
          {{this.orderPayOption}}
      </td>
      <td>
          {{this.ship}}
      </td>
      <td>
          {{this.discount}}
      </td>
      <td>
          {{this.finalPrice}}
      </td>
      <td>
          {{this.note}}
      </td>
      <td>
          {{this.status}}
      </td>
    </tr>
    {{/each}}
    
  </tbody>
</table>


<script>
  const adminToken = JSON.parse(localStorage.getItem("admin-token"));
  const productId = document.querySelector("#productId").value;
  const productNameList = document.querySelectorAll(".productName");
  productNameList.forEach(function(product) {
        product.addEventListener('click', function(e){
            window.location = `/admin/order-detail/${productId}/${adminToken}` 
        })
  })
  
</script>

{{>admin-footer}}


