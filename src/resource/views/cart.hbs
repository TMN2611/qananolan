<div class="cart">
    <h1 class='text-center mt-5 font-weight-bold pageTitle__center'>GIỎ HÀNG CỦA BẠN</h1>
    <p class='cart__quality text-center  mt-4 mb-5'>Bạn có 
        <span class='cart__quality--number'></span> sản phẩm trong giỏ hàng</p>


    <div class="cart__body container">
        <ul class="cart__list">
        </ul>

        <div class='cart__body--bottom row'>

            <div class="cart__body--note col-6">
                <textarea id="note" name="note" rows="8" cols="50" placeholder="Ghi chú"></textarea>
            </div>

            <div class='col-6'>
                    <div class="d-flex justify-content-end align-items-center my-5">
                        <span class='font-weight-bold'>TỔNG TIỀN: </span> <span class='cart__total--money'></span>
                    </div>


                    <div class="d-flex justify-content-between">
                        <a href="/collections/sale">
                        {{> slideBtn title="Tiếp tục mua hàng"}}</a>
                        {{> slideBtn title="Thanh toán" class='payBtn'}}
                    </div>
            </div>

           
        </div>
        
    </div>

</div>


<script src='/js/renderCart.js'></script>

<script>
    const payBtn = document.getElementById('payBtn');
    const noteElement = document.getElementById('note');

    payBtn.addEventListener('click', function() {
        const cartProductList = JSON.parse(localStorage.getItem('cartProductList'));

        const totalMoney = cartProductList.reduce((total,curr,index)=> {
            return total+ (curr.cartItemPrice * curr.cartItemAmount)  ;
        },0)
            const dataForPost = {
                products:cartProductList,
                totalMoney:totalMoney,
                note:noteElement.value,
            }
            console.log(dataForPost);
    })




</script>
